<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Stats</title>
    <script>
      const getCellValue = (tr, i) => tr.children[i].innerText || tr.children[i].textContent;
      const compare = (a, b) => a !== '' && b !== '' && !isNaN(a) && !isNaN(b) ? a - b : a.toString().localeCompare(b);
      const compareCol = (i, asc) => (a, b) => compare(getCellValue(asc ? a : b, i), getCellValue(asc ? b : a, i));

      window.onload = () => {
          document.querySelectorAll('th').forEach(th => th.addEventListener('click', (() => {
              const table = th.closest('table');
              console.log("here");
              Array.from(table.querySelectorAll('tr:nth-child(n+2)'))
                  .sort(compareCol(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
                  .forEach(tr => table.appendChild(tr) );
          })));
      };
    </script>
    <style>
      table, th, td { border: 1px solid black; }
      th { cursor: pointer; }
    </style>
  </head>
  <body>
    <table>
      <tr>
        <th>Name</th>
        <th>Games</th>
        <th>Goals</th>
        <th>Goals per game</th>
        <th>Yellows</th>
      </tr>

      <tr>
        <td>Archie</td>
        <td>6</td>
        <td>10</td>
        <td>1.67</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Baldry</td>
        <td>6</td>
        <td>15</td>
        <td>2.50</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Baz</td>
        <td>3</td>
        <td>4</td>
        <td>1.33</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Ben</td>
        <td>4</td>
        <td>16</td>
        <td>4.00</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Gwin</td>
        <td>4</td>
        <td>4</td>
        <td>1.00</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Liam</td>
        <td>5</td>
        <td>15</td>
        <td>3.00</td>
        <td>1</td>
      </tr>
      
      <tr>
        <td>Mabel</td>
        <td>3</td>
        <td>9</td>
        <td>3.00</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Mitch</td>
        <td>6</td>
        <td>24</td>
        <td>4.00</td>
        <td>1</td>
      </tr>
      
      <tr>
        <td>Notley</td>
        <td>4</td>
        <td>14</td>
        <td>3.50</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Q</td>
        <td>6</td>
        <td>10</td>
        <td>1.67</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Shirley</td>
        <td>6</td>
        <td>19</td>
        <td>3.17</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td>Wrighty</td>
        <td>6</td>
        <td>14</td>
        <td>2.33</td>
        <td>1</td>
      </tr>
      
    </table>
  </body>
</html>
